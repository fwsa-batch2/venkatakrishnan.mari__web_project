<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sign#Up</title>
    <style>
        .kfc {
            width: 10%;
        }

        .word1 {
            position: absolute;
            font-size: 30px;
            top: 10px;
            left: 250px;
        }

        .word2 {
            position: absolute;
            font-size: 30px;
            top: 80px;
            left: 60px;
        }

        .word3 {
            position: absolute;
            font-size: 30px;
            top: 210px;
            left: 60px;
        }

        .word4 {
            position: absolute;
            font-size: 30px;
            top: 340px;
            left: 60px;
        }

        .word5 {
            position: absolute;
            font-size: 30px;
            top: 470px;
            left: 60px;
        }

        .name1 input {
            position: absolute;
            font-size: 25px;
            top: 160px;
            left: 60px;
            padding: 10px;
            width: 400px;
            border-radius: 10px;

        }

        .name2 input {
            position: absolute;
            font-size: 25px;
            top: 290px;
            left: 60px;
            padding: 10px;
            width: 400px;
            border-radius: 10px;

        }

        .name3 input {
            position: absolute;
            font-size: 25px;
            top: 420px;
            left: 60px;
            padding: 10px;
            width: 400px;
            border-radius: 10px;

        }

        .name4 input {
            position: absolute;
            font-size: 25px;
            top: 550px;
            left: 60px;
            padding: 10px;
            width: 400px;
            border-radius: 10px;

        }

        .box1 {
            position: absolute;
            background-color: white;
            color: black;
            top: 60px;
            left: 610px;
            padding: 300px;
            height: 200px;
            border-radius: 20px;
        }

        /* .box2 {
            position: absolute;
            color: black;
            top: 70%;
            left: 20px;
            font-size: 25px;
            padding-left: 100px;
        } */

        .button1 {
            position: absolute;
            top: 670px;
            left: 230px;
            background-color: black;
            color: white;
            font-size: 25px;
            border-radius: 20px;
            cursor: pointer;
        }

        #link:hover {
            background-color: red;
        }

        .hello {
            position: absolute;
            color: black;
            left: 34%;
            top: 76%;
            font-size: 20px;
        }

        #checking {
            position: absolute;
            color: black;
            left: 30%;
            top: 629px;
        }

        /* .valid {
            color: green;
        }

        .valid:before {
            position: relative;
            left: -35px;
            content: "✔";
        }

        .invalid {
            color: red;
        }

        .invalid:before {
            position: relative;
            left: -35px;
            content: "✖";
        } */
    </style>
</head>

<body bgcolor="red">
    <img class="kfc" src="../assets/images/kfc.jpg">
    <form onsubmit=" validateForm()">
        <div class="box1">

            <h2 class="word1"><ins>SignUp</ins></h2>
            <h2 class="word2">Username</h2>
            <p class="name1"><input type="text" id="name" placeholder="Enter your name" required></p>
            <h2 class="word3">Email Address</h2>
            <p class="name2"><input type="email" id="Email" placeholder="Enter your email" required></p>
            <h2 class="word4"> Password</h2>
            <p class="name3"><input id="pswd1" type="password" min="00000000001" minlength="8" maxlength="8"
                    title="Characters must have 8 characters" placeholder="Enter your password" required></p>
            <h2 class="word5">Confirm Password</h2>
            <p class="name4"><input id="pswd2" type="password" min="00000000001" minlength="8" maxlength="8"
                title="Characters must have 8 characters" placeholder="Enter your confirm password" required></p>
            
            <p class="hello">Show password </p>
            <input type="checkbox"id="checking" onchange="check()"  ></p>
            <a href="../index.html"><button id="link" class="button1"><b>Submit</b></button></a>

        </form>
    </div>
            <!-- <div id="message" class="box2">
            <h3>Password contains</h3>
            <p id="letter" class="invalid">A <b>lowercase</b> letter</p>
            <p id="capital" class="invalid">A <b>capital (uppercase)</b> letter</p>
            <p id="number" class="invalid">A <b>number</b></p>
            <p id="length" class="invalid">Minimum <b>8 characters</b></p>
        </div>

    </div>
    
        let myInput = document.getElementById("pass");
        let letter = document.getElementById("letter");
        let capital = document.getElementById("capital");
        let number = document.getElementById("number");
        let length = document.getElementById("length");



        myInput.onfocus = function(){
                document.getElementById("message").style.display = "block";

        }
        myInput.onblur = function(){
            document.getElementById("message").style.display = "none";
        }
        myInput.onkeyup = function(){
            var lowerCaseletter = /[a-z]/g;
            if(myInput.value.match(lowerCaseletter)){
                letter.classList.remove("invalid");
                letter.classList.add("valid");
            }
            else{
                letter.classList.remove("valid");
                letter.classList.add("invalid");
            }

            
            var upperCaseletter = /[A-Z]/g;
            if(myInput.value.match(upperCaseletter)){
                capital.classList.remove("invalid");
                capital.classList.add("valid");
            }else{
                capital.classList.remove("valid");
                capital.classList.add("invalid");
            }
            var number = /[0-9]/g;
            if(myInput.value.match(number)){
                number.classList.remove("invalid");
                number.classList.add("valid");
            }else{
                number.classList.remove("valid");
                number.classList.add("invalid");
            }
            

            if(myInput.value.length<=8){
                length.classList.remove("invalid");
                length.classList.add("valid");
            }else{
                length.classList.remove("valid");
                length.classList.add("invalid");
            }

        }

     -->

            <script>
               let data = [];
  function onPageload(){
      const listValue = JSON.parse(localStorage.getItem("userdetails"));
      if(listValue!=null){
          data=listValue
      }
  }
  onPageload();


                function validateForm() {
                    event.preventDefault();

                    let userName = document.getElementById("name");
                    let email = document.getElementById("Email");
                    let password = document.getElementById("pswd1");
                    let cpassword = document.getElementById("pwsd2");


                   let userEmaildetails = ismailAlreadyExists(email)
                 
             if(password != cpassword){
                 alert("Password is Inavalid");


             }
             else if(userEmaildetail) {
                 alert("Email is exists");
                }
                else{
                    let userdetails = {
                         "name": userName,
                         "Email": email,
                         "pswd1": password,
                         "pswd2": cpassword
                          
                    }
            
                    
                    data.push(userdetails)
                    const customerLists = JSON.stringify(data);
                    localStorage.setItem("userdetails" ,customerLists);
                }
                }

                function ismailAlreadyExists(email){
                    let clr = false;
                    for( let i=0;i<data.length;i++){

                        const gear = data[i].email;
                        if(email == gear){
                            clr = true;
                            break;
                        }
                    }
                    return clr;
                }
                onPageload();
                //     event.preventDefault();
                //     let name = document.getElementById("name").value;
                //     let mail = document.getElementById("Email").value;


                //     let pw1 = document.getElementById("pswd1").value;
                //     let pw2 = document.getElementById("pswd2").value;

                //     if (pw1 == pw2) {

                //         console.log("Password Matched");
                //         window.location.href = "../pages/signin.html"
                //         alert("Welcome to KFC");
                //     }
                //     else {
                //         alert("Your password is Invalid");

                //     }


                // }
                function check() {
                    let checkbox = document.getElementById("checking");

                    if (checkbox.checked) {
                        document.getElementById("pswd1").type = "text";
                    }
                    else {
                        document.getElementById("pswd1").type = "password";
                    }
                }
            </script>
   
</body>

</html>